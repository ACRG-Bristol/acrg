# Copyright 2005-2007 ECMWF
#
# Licensed under the GNU Lesser General Public License which
# incorporates the terms and conditions of version 3 of the GNU
# General Public License.
# See LICENSE and gpl-3.0.txt for details.


template mars_labeling "grib2/mars_labeling.def";

unsigned[2] perturbationNumber  : dump;
unsigned[2] numberOfForecastsInEnsemble  : dump;
alias number=perturbationNumber;
alias totalNumber=numberOfForecastsInEnsemble;

unsigned[2] systemNumber  : dump;
unsigned[2] methodNumber  : dump;
unsigned[4] verifyingMonth : dump;
unsigned[1] averagingPeriod : dump ;
unsigned[2] forecastMonth : dump ;
unsigned[4] referenceDate  : dump;
unsigned[4] climateDateFrom  : dump;
unsigned[4] climateDateTo : dump;
signed[1] unitsDecimalScaleFactor  : dump;
unsigned[1] thresholdIndicator  : dump;
unsigned[2] lowerThresholdValue  : dump;
unsigned[2] upperThresholdValue  : dump;

alias local.systemNumber=systemNumber;
alias local.methodNumber=methodNumber;
alias local.verifyingMonth=verifyingMonth ;
alias local.averagingPeriod=averagingPeriod  ;
alias local.forecastMonth=forecastMonth ;
alias local.referenceDate=referenceDate  ;
alias local.climateDateFrom=climateDateFrom  ;
alias local.climateDateTo=climateDateTo ;
alias local.unitsDecimalScaleFactor=unitsDecimalScaleFactor ;
alias local.thresholdIndicator=thresholdIndicator ;
alias local.lowerThresholdValue=lowerThresholdValue ;
alias local.upperThresholdValue=upperThresholdValue;

#alias mars.number  = perturbationNumber;
#alias mars.refdate = referenceDate;
#alias mars.origin  = centre;
#unalias mars.date;
#alias mars.system = systemNumber;
#alias mars.method = methodNumber;

if (stepType is "instant" ) {
	constant productDefinitionTemplateNumberInternal=0;
} else {
	constant productDefinitionTemplateNumberInternal=8;
}

